{% extends 'base.html' %}

{% load static %}

{% block graficos %}

<div class="grid-container">
    <div class="sidbar">
        <div class="sidenav">
            <a href=#>#</a>
            <a href="{% url 'app_proyecto_medico:privada' %}">Perfil</a>
            <a href="{% url 'app_proyecto_medico:examenes' %}">Examen</a>
            <a href="{% url 'app_proyecto_medico:agendar' %}">Agendar</a>
            <a href="{% url 'app_proyecto_medico:graficos' %}">Estadisticas</a>
        </div>
    </div>

    <div class="contenido">
        <div class="col py-2">
            <div class="block-header">
                <h2>Estadisticas de Examenes</h2>
                <small class="text-muted"></small>
            </div>
            <div class="row">
                {% block contenidos %}
                <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.8.0/Chart.js"></script>
                <style>
                    .chart {
                        width: 40%;
                    }
                </style>
                <!-- Se crea el grafico y se asigna ancho y alto -->
                <div class="chart">
                    <canvas id="barra"></canvas>
                </div>

                <div class="chart">
                    <canvas id="pie"></canvas>
                </div>
                </body>
                <script>
                    var ctx = document.getElementById("barra");
                    var barra = new Chart(ctx, {

                        /* En type se define el tipo de grafico a mostrar */

                        type: "bar",
                        data: {
                            labels: {{ medico| safe}},
                    datasets: [{
                        label: 'Examen',
                        data: {{ examen| safe}},
                        backgroundColor: [

                        /* Se define el color en formato RGB por cada barra */

                        'rgb(51, 255, 62)',
                        'rgb(51, 93, 255)',
                        'rgb(207, 40, 52)',
                        'rgb(116, 51, 255)',
                        'rgb(51, 212, 255)'
                    ]
        }]
    },
                    options: {
                        scales: {
                            yAxes: [{
                                ticks: {
                                    beginAtZero: true
                                }
                            }]
                        }
                    }
});

                    var ctx = document.getElementById("pie");
                    var pie = new Chart(ctx, {

                        /* En type se define el tipo de grafico a mostrar */

                        type: "pie",
                        data: {
                            labels: {{ medico | safe}},
                    datasets: [{
                        label: 'Doctores',
                        data: {{ examen | safe}},
                        backgroundColor: [

                        /* Se define el color en formato RGB por cada barra */

                        'rgb(51, 255, 62)',
                        'rgb(51, 93, 255)',
                        'rgb(207, 40, 52)',
                        'rgb(116, 51, 255)',
                        'rgb(51, 212, 255)'
                    ]
        }]
    },
  
});
                </script>
                {% endblock %}

{% endblock %}